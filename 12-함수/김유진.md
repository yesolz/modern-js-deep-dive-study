# 12. 함수
## 12.1 함수란?
: 입력을 받아 출력을 내보내는 과정으로, 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의.

- `매개 변수`: 함수 내부로 입력을 전달받는 변수
- `인수` :  함수 호출 시 실제 전달하는 값
- `반환 값` :  함수 실행 후 결과로 반환하는 값
- `함수 정의`: <br>
특정 작업을 수행하는 코드 블록을 미리 작성 -> 필요할 때 이를 호출하여 실행
```javascript
function add(x, y) {
    return x - y;
}
```
- `함수 호출` :<br>
미리 정의된 함수를 실행하기 위해 인수를 함수의 매개변수에 전달하면서, 해당 함수가 실행되고 반환값을 돌려받는 과정
```javascript
var result = add(5, 2);
console.log(result);
```

함수는 여러 개 존재할 수 있기에 특정 함수 구별을 위해 식별자인 **함수 이름**을 사용.

## 12.2 함수를 사용하는 이유
- `재사용성`: 함수를 통해 재사용이 가능하기 때문에 중복 작성을 줄일 수 있다.
- `유지보수의 편의성` : 수정 시 함수 내부만 수정하면 된다.
- `가독성과 신뢰성` : 함수는 명확한 역할을 가지고 있으므로 코드의 이해가 더 쉽고, 미리 정의된 함수에 인수를 함수에 매개변수에 전달하기 때문에 실수가 없어 코드의 신뢰성이 높다. 

> ❗가독성이 좋은 코드가 좋은 코드다. 

## 12.3 함수 리터럴
자바스크립트에서 함수는 객체 타입의 값이다. 따라서 함수 리터럴을 생성할 수 있고, `function 키워드, 함수 이름, 매개변수 목록, 함수 몸체`로 구성된다.

```javascript
function add(x, y) {
    return x + y;
};
```
### 함수 객체 vs  일반 객체
함수는 객체지만 일반 객체와 다르게 호출할 수 있고, 고유한 프로퍼티를 갖는다는 점에서 차이가 있다.

| **구분**            | **함수 객체 (Function Object)**                 | **일반 객체 (Regular Object)**         |
|---------------------|-------------------------------------------------|----------------------------------------|
| **정의**            | 실행 가능한 코드 블록                           | 데이터를 저장하는 구조                 |
| **호출 가능성**     | 호출 가능                                       | 호출 불가                              |
| **속성과 메서드**   | 속성 및 반환값, 매개변수 가능                   | 속성 및 메서드, 실행 기능 없음        |
| **프로토타입**      | `Function` 프로토타입 상속                      | `Object` 프로토타입 상속              |
| **`this` 키워드**   | 호출 방식에 따라 다르게 바인딩                 | 객체 속성에서 해당 객체 참조          |
| **메모리 사용**     | 더 많은 메모리 사용 가능                         | 일반적으로 적은 메모리 사용           |

-  요약
    - **함수 객체**: 작업 수행을 위한 실행 가능한 코드 블록, 속성과 메서드를 가짐.
    - **일반 객체**: 데이터 저장을 위한 구조, 실행할 수 없음.

> ❗함수가 객체라는 사실은 자바스크립트만의 중요한 특징이다. 제대로 이해하는 것 중요!

## 12.4 함수 정의
함수를 호출하기 이전에 인수를 전달받을 매개변수와 실행문, 반환 값을 지정하는 것

### 함수 정의 방식 4가지
1. 함수 선언문
``` javascript
function add(x, y) {
    return x + y;
}
```
2. 함수 표현식
``` javascript
var add = function(x, y) {
    return x + y;
}
```
3. function 생성자 함수
``` javascript
var add = new Function('x', 'y', 'return x+y');
```
4. 화살표 함수(ES6)
``` javascript
var add = (x, y) => x + y;
```


### 공통점
- **일급 객체**: 모든 방식은 자바스크립트에서 일급 객체로 취급되며, 변수에 할당하거나 다른 함수에 인자로 전달할 수 있음.
- **매개변수 및 반환값**: 모든 방식에서 매개변수를 받고, 반환값을 가질 수 있음.
- **스코프**: 정의된 위치에 따라 스코프가 결정됨.

### 특징 및 차이점
- **함수 선언문**
    - 함수 이름 생략 불가능
    - 표현식이 아닌 문(undefined 출력)
    - **생성 시점:** 코드가 실행되기 전에 메모리에 생성
    - 호이스팅 ⭕
- **함수 표현식**
    - 함수 객체를 변수에 할당
    - 식별자 사용(함수 이름 아닌 객체 지목)
    - **생성 시점:** 코드 실행 시 생성
    - 호이스팅 ❌
- **생성자 함수**
    -  `new` 키워드를 사용하여 호출
    - 함수 생성이 바람직하지 않음(?) #클로저
    - **생성 시점:** 코드 실행 시 생성
    - 호이스팅 ⭕
- **화살표 함수**
    - 화살표 사용해 간결한 문법을 제공
    - 항상 익명 함수로 정의
    - 생성자 함수로 사용 불가능
    - 기존 함수와 `this`바인딩 방식이 다름(portotype 프로퍼티, arguments 객체 ❌)
    - **생성 시점:** 함수 정의 시 생성
    - 호이스팅 ❌

> 함수 표현식으로 정의한 함수는 함수 표현식 이후에 참조 또는 호출해야 한다.

> 함수 선언문보다는 표현식 사용을 권장함 ->호이스팅은 함수 선언 규칙을 무시하기 때문.

## 12.5 함수 호출
### 매개변수와 인수
매개변수를 통해 인수를 전달하는 구조
- 인수
    - **표현식**
    - 함수 호출 시 지정
    - 개수와 타입 제한 ❌
- 매개변수
    - 함수 정의 시 사용
    - 스코프 : 유효 범위는 함수 내부
    - 순서에 의미가 있음-> 적을수록 좋음
    - `최대 3개 이상 넘지 않을 것을 권장`

> 자바스크립트 함수는 매개변수와 인수의 개수가 일치하는지 확인하지 않는다.

> 자바스크립트는 동적 타입 언어로 매개변수의 타입을 사전에 지정하지 않음.

> 이상적인 함수는 한 가지 일만 한다 ---> 가급적 작게 만들어야 함.

#### 반환문
#return

- 반환문의 두 가지 역할
1. 함수 실행을 중단하고 함수 몸체를 빠져나간다. 반환문 이후에 다른 문은 실행되지 않는다.
```javascript 
function multiply(x, y) {
    return x * y; //반환문
    // 반환문 이후에 다른 문이 존재하면 실행 x
    console.log('실행 x');
}

console.log(multiply(3, 5)); //15
```
2. `return` 키워드 뒤에 오는 표현식을 평가해 반환한다.

### 다양한 함수의 형태
#### 즉시 실행 함수 (Immediately Invoked Function Expression, IIFE)
- 함수 정의와 동시에 호출됨
- 익명 함수 사용이 일반적
- 함수 이름 생략 불가
    ```javascript
    function () { //synctaxError: Function statements require a function name
        // ...
    }(); 
    ```
 - 반드시 `그룹 연산자(...)`로 감싸야 한다.
    ```javascript
    (function() {
    console.log("This runs immediately!");
    })();
    ```
#### 재귀 함수
- 함수가 스스로를 호출
- 반복문 없이도 구현이 가능한 함수
- `탈출 조건`을 반드시 만들어야 함(무한 재귀 호출)
- 대부분 for or while문으로 구현

#### 중첩 함수
- 함수 내부에 정의된 함수 = 내부함수
> 내부함수 vs 외부 함수(중첩 함수를 포함한 함수)
- 외부함수를 돕는 헬퍼 함수 역할
```javascript
// 헬퍼 함수 정의
function square(num) {
    return num * num; // 숫자의 제곱을 계산
}

// 주 함수
function calculateAreas(numbers) {
    const areas = [];
    for (const number of numbers) {
        areas.push(square(number)); // 헬퍼 함수 사용
    }
    return areas;
}

const result = calculateAreas([2, 3, 4]);
console.log(result); // [4, 9, 16]

```
#### 콜백 함수
- 함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수
- 호출할 함수가 지정된 함수의 실행이 끝난 후 실행
#### 고차 함수
- 매개 변수를 통해 함수의 외부에서 콜백 함수를 전달받은 함수
- 매개변수를 통해 전달받은 콜뱀 함수의 호출 시점을 결정해서 호출

> 콜백함수는 고차함수에 의해 호출되고, 고차함수는 필요에 따라 콜백 함수에 인수를 전달할 수 있다.

#### 순수 함수와 비순수 함수
