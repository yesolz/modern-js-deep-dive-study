# 19장. 프로토타입

날짜: 2024년 9월 26일

프로토타입(prototype)은 자바스크립트에서 객체 간 상속을 구현하는 메커니즘이다. 모든 자바스크립트 객체는 내부적으로 [[Prototype]]이라는 속성을 가지고 있으며, 이를 통해 다른 객체로부터 프로퍼티와 메서드를 상속받을 수 있다.

1. **프로토타입 기반 상속**: 자바스크립트는 클래스 기반 언어와 달리 프로토타입 기반 상속을 사용한다. 이를 통해 객체 간 중복된 코드 작성 없이 상속을 구현하고, 메모리 낭비를 줄일 수 있다. 객체가 생성되면 해당 객체는 생성된 프로토타입 객체로부터 메서드와 속성을 상속받는다.
2. **생성자 함수와 프로토타입**: 생성자 함수는 객체를 생성하는 함수다. 생성된 객체는 해당 생성자 함수의 `prototype` 속성에 연결된 객체를 프로토타입으로 갖고, 이를 통해 동일한 메서드를 공유하게 된다.

   ```jsx
   function Circle(radius) {
     this.radius = radius;
   }

   Circle.prototype.getArea = function () {
     return Math.PI * this.radius ** 2;
   };

   const circle1 = new Circle(1);
   const circle2 = new Circle(2);
   ```

   위 코드에서 `Circle` 생성자 함수로 생성된 `circle1`과 `circle2`는 각각 개별 `radius` 값을 가지지만, 동일한 `getArea` 메서드를 프로토타입을 통해 상속받아 사용한다.

3. **프로토타입 체인**: 객체에 특정 프로퍼티나 메서드가 없으면, [[Prototype]]을 따라 프로토타입 체인을 타고 상위 객체로 이동하여 프로퍼티를 찾는다. 프로토타입 체인의 끝은 `Object.prototype`이며, 이곳에서도 찾지 못하면 `undefined`를 반환한다.
4. **`__proto__` 접근자**: `__proto__`는 객체가 자신의 프로토타입에 접근하거나 교체할 수 있는 접근자 프로퍼티다. ES6에서는 표준으로 채택되었으나, `Object.getPrototypeOf`와 `Object.setPrototypeOf`를 사용하는 것이 더 권장된다.
5. **프로토타입 교체**: 객체의 프로토타입을 동적으로 교체할 수 있으며, 이를 통해 객체 간의 상속 구조를 변경하거나 새로운 상속 관계를 설정할 수 있다. 그러나 이러한 방식은 코드가 복잡해질 수 있으므로, 클래스나 Object.create를 통한 상속 방식이 더 적합할 수 있다.
6. **프로토타입의 constructor 프로퍼티**: 모든 프로토타입 객체는 자신을 참조하는 생성자 함수를 가리키는 `constructor` 프로퍼티를 갖는다. 이를 통해 객체가 어떤 생성자 함수를 통해 생성되었는지 확인할 수 있다.

프로토타입 상속은 자바스크립트의 효율적인 메모리 사용과 객체 간 관계 설정을 가능하게 해주며, 자바스크립트의 객체 지향 프로그래밍을 이해하는 핵심 개념이다.
