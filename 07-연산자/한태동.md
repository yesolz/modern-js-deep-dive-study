# 7장. 연산자

`연산자`: 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행해 하나의 값을 찾는 것이다. 피연산자를 연산해 새로운 값을 찾는다.

`피연산자`: 연산의 대상이며 값으로 평가될 수 있는 표현이어야 한다.

```jsx
// 산술 연산자
5 * 4; // -> 20

// 문자열 연결 연산자
"My name is " + "Lee"; // ->'My name is Lee'

// 할당 연산자
let color = "red"; // -> 'red'

// 비교 연산자
3 > 5; // -> false
```

## 1. 산술 연산자

피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만든다. 산술 연산이 불가능한 경우 NaN을 반환한다.

### 이항 산술 연산자

2개의 피연산자를 산술 연산하여 숫자 값을 만든다.

| 이항 산술 연산자 | 의미   | 부수 효과 |
| ---------------- | ------ | --------- |
| +                | 덧셈   | X         |
| -                | 뺄셈   | X         |
| \*               | 곱셈   | X         |
| /                | 나눗셈 | X         |
| %                | 나머지 | X         |

### 단항 산술 연산자

단항 산술 연산자는 하나의 피연산자에 대해 연산을 수행하는 연산자로, 자주 사용되는 종류는 **증가 연산자**(`++`), **감소 연산자**(`--`), **단항 더하기(**`+`), **단항 빼기**(`-`)가 있다.

| 이항 산술 연산자 | 의미                                                 | 부수 효과 |
| ---------------- | ---------------------------------------------------- | --------- |
| ++               | 증가                                                 | O         |
| —                | 감소                                                 | O         |
| +                | 어떠한 효과도 없다. 음수를 양수로 반전하지도 않는다. | X         |
| -                | 양수를 음수로, 음수를 양수로 반전한 값을 반환한다.   | X         |

```jsx
var x = 1;

// ++연산자는 피연산자의 값을 변경하는 암묵적 할당이 이루어진다.
x++;
console.log(x); // 2
```

증가/감소(++/—) 연산자는 **위치에 의미가 있다.**

- `전위 증가/감소 연산자`: 먼저 피연산자의 값을 증가/감소시킨 후, 다른 연산을 수행
- `후위 증가/감소 연산자`: 다른 연산을 먼저 수행한 수, 피연산자의 값을 증가/감소시킴

```jsx
var x = 5,
  result;

// 선할당 후증가
result = x++;
console.log(result, x); // 5 6

// 선증가 후할당
result = ++x;
console.log(result, x); // 7 7

// 선할당 후감소
result = x--;
console.log(result, x); // 7 6
```

단항 더하기는 피연산자를 숫자로 변환하는 역할을 하며, 단항 빼기는 피연산자의 부호를 반전시킨다.

```jsx
var x = "5";
console.log(+x); // 5 (문자열 "5"를 숫자 5로 변환)

var y = true;
console.log(+y); // 1 (true는 숫자 1로 변환)
```

### 문자열 연결 연산자

**+ 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다.**

```jsx
// 문자열 연결 연산자
"1" + 2; // '12'
1 + "2"; // '12'

// 산술 연산자
1 + 2; // 3

// true는 1로 타입 변환된다.
1 + true; // 2

// false와 null은 0으로 타입 변환된다.
1 + false; // 1
1 +
  null + // 1
  // undefined는 숫자로 타입 변환되지 않는다.
  undefined; // NaN
1 + undefined; // NaN
```

위 코드와 같이 자바스크립트 엔진에 의해 **암묵적으로 타입 변환**되는 것을 조심해야 한다.

## 할당 연산자

`할당 연산자`: 우항에 있는 피연산자의 평과 결과를 좌항에 있는 변수에 할당한다.

### **1. 기본 할당 연산자 (`=`)**

- 오른쪽의 값을 왼쪽 변수에 할당한다.

  ```jsx
  var x;
  x = 10; // x에 10을 할당
  console.log(x); // 출력: 10
  ```

### 2. **복합 할당 연산자**

- 산술 연산자 또는 비트 연산자와 할당 연산자를 결합하여, 연산 후 그 결과를 변수에 다시 할당한다.

  - **더하기 후 할당 (`+=`)**

    ```jsx
    var x = 5;
    x += 3; // x = x + 3
    console.log(x); // 출력:
    ```

  - **빼기 후 할당 (`=`)**

    ```jsx
    var x = 5;
    x -= 2; // x = x - 2
    console.log(x); // 출력:
    ```

  - **곱하기 후 할당 (`=`)**

    ```jsx
    var x = 5;
    x *= 2; // x = x * 2
    console.log(x); // 출력: 10
    ```

  - **나누기 후 할당 (`/=`)**

    ```jsx
    var x = 10;
    x /= 2; // x = x / 2
    console.log(x); // 출력: 5
    ```

  - **나머지 후 할당 (`%=`)**

    ```jsx
    var x = 10;
    x %= 3; // x = x % 3
    console.log(x); // 출력: 1
    ```

## 비교 연산자

비교 연산자는 두 값을 비교하여 그 결과를 `불리언`(true 또는 false)으로 반환하는 연산자이다.

### 1. **동등 연산자 (`==`)**

- 두 값이 **동등**한지 비교한다. **타입을 변환**한 후 비교하기 때문에, 타입이 달라도 값이 같다면 `true`를 반환한다.

  ```jsx
  console.log(5 == "5"); // true (타입을 변환 후 비교)
  ```

### 2. **일치 연산자 (`===`)**

- 두 값이 **엄격하게 일치**하는지 비교한다. **타입**과 **값** 모두 같아야 `true`를 반환한다.

  ```jsx
  console.log(5 === "5"); // false (타입이 다르기 때문에 false)
  console.log(5 === 5); // true
  ```

### 3. **부등 연산자 (`!=`)**

- 두 값이 **동등하지 않은지** 비교한다. `==`와 마찬가지로 타입을 변환한 후 비교한다.

  ```jsx
  console.log(5 != "5"); // false (타입 변환 후 값이 같음)
  ```

### 4. **불일치 연산자 (`!==`)**

- 두 값이 **엄격하게 일치하지 않는지** 비교한다. 값이나 타입이 다르면 `true`를 반환한다.

  ```jsx
  console.log(5 !== "5"); // true (타입이 다르기 때문에 true)
  console.log(5 !== 5); // false (값과 타입이 모두 같음)
  ```

### 5. **크기 비교 연산자**

- **작다 (`<`)**: 왼쪽 값이 오른쪽 값보다 작은지 비교한다.
- **크다 (`>`)**: 왼쪽 값이 오른쪽 값보다 큰지 비교한다.
- **작거나 같다 (`<=`)**: 왼쪽 값이 오른쪽 값보다 작거나 같은지 비교한다.
- **크거나 같다 (`>=`)**: 왼쪽 값이 오른쪽 값보다 크거나 같은지 비교한다.

  **예시**:

  ```jsx
  console.log(5 < 10); // true
  console.log(5 > 10); // false
  console.log(5 <= 5); // true
  console.log(5 >= 6); // false
  ```

### 6. **`null` 및 `undefined`와의 비교**

- **`==` 연산**은 `null`과 `undefined`를 **같은 값**으로 취급하지만, **다른 값**들과는 동등하지 않다고 간주합니다.
- **`===` 연산**은 `null`과 `undefined`를 **서로 다르게** 취급합니다.

  **예시**:

  ```jsx
  console.log(null == undefined); // true (동등 연산자는 둘을 같은 값으로 취급)
  console.log(null === undefined); // false (일치 연산자는 타입이 다르다고 판단)
  ```

### 7. **NaN과의 비교**

- **NaN**(Not a Number)은 어떤 값과도 같지 않습니다. 심지어 자기 자신과도 같지 않다고 평가됩니다.

  **예시**:

  ```jsx
  console.log(NaN == NaN); // false
  console.log(NaN === NaN); // false
  ```

### 8. **객체 비교**

- 객체는 비교할 때 **참조**를 기준으로 비교합니다. 즉, 두 객체가 동일한 참조를 가리킬 때만 `true`를 반환합니다.

  **예시**:

  ```jsx
  var obj1 = { name: "Alice" };
  var obj2 = { name: "Alice" };
  console.log(obj1 == obj2); // false (서로 다른 객체)
  console.log(obj1 === obj2); // false (서로 다른 참조)

  var obj3 = obj1;
  console.log(obj1 === obj3); // true (같은 참조)
  ```

## 삼항 조건 연산자

조건식의 평과 결과에 따라 반환할 값을 결정한다.

![image.png](7%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%89%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A1%20ee848f8e54184ab796f202f747fbfc2b/image.png)

```jsx
조건 ? 참일 때 반환값 : 거짓일 때 반환값
```

- **조건**: 평가할 조건식. 참 또는 거짓이 될 수 있다.
- **?**: 조건이 참일 때 실행할 부분을 구분한다.
- **참일 때 반환값**: 조건이 참일 때 반환할 값이다.
- **:**: 참일 때와 거짓일 때의 결과를 구분한다.
- **거짓일 때 반환값**: 조건이 거짓일 때 반환할 값이다.

1. **기본 사용 예시**

```jsx
var age = 18;
var canVote = age >= 18 ? "You can vote" : "You cannot vote";
console.log(canVote); // "You can vote"
```

- 여기서 조건은 `age >= 18`.이다. 만약 참이면 "You can vote"가 출력되고, 거짓이면 "You cannot vote"가 출력된다.

1. **중첩된 삼항 연산자**

삼항 연산자는 중첩하여 사용할 수도 있다. 다만 가독성이 떨어질 수 있으므로 주의가 필요하다.

```jsx
var age = 20;
var category = age < 13 ? "Child" : age < 20 ? "Teenager" : "Adult";
console.log(category); // "Adult"
```

- 조건에 따라 `age`가 13 미만이면 "Child", 13 이상 20 미만이면 "Teenager", 그 외는 "Adult"가 된다.

## 논리 연산자

논리 연산자는 `&&`, `||`, `!` 세 가지로 구성된다.

1. \*AND 연산자 (`&&`)\*\*는 두 값이 모두 참일 때만 `true`를 반환하며, 첫 번째 값이 거짓이면 나머지는 평가하지 않는다.
2. \*OR 연산자 (`||`)\*\*는 두 값 중 하나라도 참이면 `true`를 반환하며, 첫 번째 값이 참이면 나머지는 평가하지 않는다.
3. \*NOT 연산자 (`!`)\*\*는 값을 반전시켜 참이면 거짓, 거짓이면 참을 반환한다.

단락 평가가 있어 불필요한 값은 평가하지 않으며, 자바스크립트에서는 `false`, `0`, `""`, `null`, `undefined`, `NaN` 같은 값은 Falsy로, 그 외는 Truthy로 취급된다.

## 그룹 연산자

그룹 연산자는 `()` 괄호를 사용해 표현식의 **우선순위**를 제어하는 연산자이다.

1. **연산 우선순위 변경**: 기본 연산 순서와 상관없이 먼저 계산해야 하는 부분을 괄호로 감싸서 명시적으로 제어한다.
2. **복잡한 표현식 해석**: 여러 연산자가 포함된 복잡한 식에서 괄호를 사용해 계산 순서를 명확히 하고 코드의 가독성을 높인다.

예를 들어, `2 + 3 * 4`는 기본적으로 곱셈이 먼저 계산되지만, `(2 + 3) * 4`는 괄호로 인해 덧셈이 먼저 계산된다.

## typeof 연산자

`typeof` 연산자는 **값의 데이터 타입**을 확인할 때 사용하는 단항 연산자이다.

1. **기본 사용법**: `typeof 값`의 형태로 사용되며, 피연산자의 타입을 문자열로 반환한다.
2. **반환값**: 반환되는 값은 `"string"`, `"number"`, `"boolean"`, `"object"`, `"undefined"`, `"function"`, `"bigint"`, `"symbol"` 등이 있다.
3. **특징**: `null`은 `object`로, 배열도 `object`로 반환되며, 이는 자바스크립트의 오래된 설계에 따른 특징이다.

```jsx
typeof ""; // -> "string"
typeof 1; // -> "number"
typeof NaN; // -> "number"
typeof true; // -> "boolean"
typeof undefined; // -> "undefined"
typeof Symbol(); // -> "symbol"
typeof null; // -> "object"
typeof []; // -> "object"
typeof {}; // -> "object"
typeof new Date(); // -> "object"
typeof /test/gi; // -> "object"
typeof function () {}; // -> "function"
```

## 지수 연산자

지수 연산자 (`*`)는 **거듭제곱**을 수행하는 연산자이다.

1. **기본 사용법**: `base ** exponent` 형태로 사용되며, `base`를 `exponent`만큼 거듭제곱한 값을 반환한다.
2. **동일 표현식**: `Math.pow(base, exponent)`와 동일한 기능을 수행하지만, 지수 연산자가 더 간결하다.

예시:

```jsx
console.log(2 ** 3); // 8 (2의 3제곱)
console.log(5 ** 2); // 25 (5의 2제곱)
```

## 연산자 우선순위

| 우선순위 | 연산자                                   | 설명                              |
| -------- | ---------------------------------------- | --------------------------------- |
| 1        | `()`                                     | 그룹 연산자 (괄호)                |
| 2        | `.` `[]` `()`                            | 속성 접근, 배열 인덱스, 함수 호출 |
| 3        | `new` (매개변수 있는 형태)               | 객체 생성                         |
| 4        | `++` `--`                                | 전위 증가/감소                    |
| 5        | `!` `~` `+` `-` `typeof` `void` `delete` | 단항 연산자                       |
| 6        | `**`                                     | 지수 연산자                       |
| 7        | `*` `/` `%`                              | 곱셈, 나눗셈, 나머지              |
| 8        | `+` `-`                                  | 덧셈, 뺄셈                        |
| 9        | `<<` `>>` `>>>`                          | 비트 시프트 연산자                |
| 10       | `<` `<=` `>` `>=` `in` `instanceof`      | 비교 연산자                       |
| 11       | `==` `!=` `===` `!==`                    | 동등/일치 비교 연산자             |
| 12       | `&`                                      | 비트 AND                          |
| 13       | `^`                                      | 비트 XOR                          |
| 14       | `                                        | `                                 |
| 15       | `&&`                                     | 논리 AND                          |
| 16       | `                                        |                                   |
| 17       | `? :`                                    | 삼항 조건 연산자                  |
| 18       | `=` `+=` `-=` `*=` `/=` `%=`             | 할당 연산자                       |
| 19       | `,`                                      | 쉼표 연산자 (순차적 평가)         |

이 표는 연산자의 우선순위에 따라 높은 순서에서 낮은 순서로 나열했으며, 상위 우선순위의 연산자가 먼저 평가된다.
