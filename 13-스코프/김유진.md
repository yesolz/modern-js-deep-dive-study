# 13. 스코프
## 13.1 스코프란?
#유효범위

모든 식별자(변수, 함수, 클래스 이름 등등)가 참조할 수 있는 유효범위를 스코프라고 한다.

> 식별자 결정: 자바스크립트 엔진은 스코프를 통해 참조할 변수를 결정한다.

> 스코프: 자바스크립트 엔진이 식별자를 검색할 때 사용하는 규칙!

## 13.2 스코프의 종류
| 구분           | 정의                                                   | 특징                                              | 예시                                                  |
|----------------|--------------------------------------------------------|---------------------------------------------------|-------------------------------------------------------|
| **전역 (Global)**      | 코드의 최상위에 정의된 변수나 함수                        | 전체 코드에서 접근 가능                           | `let globalVar = "I am global!";`                     |
| **전역 스코프** | 전역 변수나 함수가 유효한 범위                          | 모든 함수와 블록에서 접근 가능                     | `function showGlobal() { console.log(globalVar); }`  |
| **지역 (Local)**      | 특정 함수나 블록 내부에 정의된 변수                          | 해당 함수나 블록 내에서만 접근 가능               | `function myFunction() { let localVar = "I am local!"; }` |
| **지역 스코프** | 지역 변수나 함수가 유효한 범위                          | 함수 종료 시 변수 소멸, 외부에서는 접근 불가        | `if (true) { let blockVar = "I am block scoped!"; }` |

- 전역: 코드 가장 바깥 영역으로 `전역 스코프` 생성
- 지역: 함수 몸체 내부로, `지역 스코프` 생성

- 전역 변수: 어디서든지 참조가 가능하다.
- 지역 변수: 자신의 지역 스코프 or 하위 지역 스코프에서 유효하다.

## 13.3 스코프 체인
스코프는 게층적 구조로 연결된다.

#### 구조
최상위 : 전역 스코프<br>
⬇️<br>
전역에서 선언된 outer 지역 스코프<br>
⬇️<br>
outer 함수 내부에서 선언되 inner 지역 스코프

> JS 엔진은 하위 -> 상위 방향으로 선언된 변수를 검색한다.

> 상위 스코프에서 선언한 변수를 하위 스코프에서도 참조할 수 있다.

## 13.4 함수 레벨 스코프
함수 몸체 내부인 지역은 지역 스코프를 만든다. 이는 코드 블록이 아니라 **함수**에 의해서만 지역 스코프가 생성되는 것이다.

`블록 레벨 스코프`: 대부분의 프로그래밍 언어는 함수 몸체만이 아니라 모든 코드 블록(IF, FOR, WHILE, TRY/CATCH)이 지역 스코프를 만든다. 

`함수 레벨 스코프` : VAR 키워드로 선언된 변수는 오로지 함수의 코드 블로만 지역 스코프로 인정한다.

## 13.5 렉시컬 스코프
함수를 어디서 호출해는지보다 어디서 정의했는지에 따라 상위 스코프를 결정한다. 

> 상위 스코프는 함수 호출 위치가 영향을 주지 않는다 => 언제나 자신이 정의된 스코프

상위 스코프는 함수 정의가 실행될 때 정적으로 결정되고, 함수 객체는 상위 스코프를 기억한다.

