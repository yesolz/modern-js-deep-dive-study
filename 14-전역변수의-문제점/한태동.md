# 14장. 전역 변수의 문제점

### 전역 변수의 문제점

1. **암묵적 결합**
   - 전역 변수는 **모든 코드가 참조**하고 **변경**할 수 있어, **암묵적 결합**을 허용한다. 이는 코드의 **가독성**을 떨어뜨리고, 예기치 않게 상태가 변경될 위험이 크다.
2. **긴 생명 주기**
   - 전역 변수는 **웹페이지를 닫을 때까지** 살아있기 때문에 **오랜 시간 메모리 리소스**를 소비한다. 상태를 변경할 수 있는 기회가 많아 **오류 발생** 가능성도 높다.
3. **스코프 체인 상의 종점에 위치**
   - 전역 변수는 **스코프 체인**의 마지막에 존재하므로, **변수 검색 속도가 느려진다**.
4. **네임스페이스 오염**
   - 전역 스코프는 하나뿐이므로, 여러 파일이 같은 전역 스코프를 공유할 때 **식별자 충돌**로 인해 **예상치 못한 결과**가 발생할 수 있다.

### 전역 변수 사용 억제 방법

1. **즉시 실행 함수(IIFE)**

   - 모든 코드를 즉시 실행 함수로 감싸면, 모든 변수는 해당 함수의 **지역 변수**가 되어 전역 변수의 사용을 억제할 수 있다.

   ```jsx
   (function () {
     var foo = 10; // 지역 변수
   })();
   ```

2. **네임스페이스 객체 사용**

   - 전역 네임스페이스 역할을 담당하는 **객체**를 만들고, 전역 변수처럼 사용하고 싶은 변수를 이 객체의 **프로퍼티**로 추가하는 방법이다.

   ```jsx
   var MYAPP = {}; // 네임스페이스 객체
   MYAPP.name = "Lee";
   ```

3. **모듈 패턴**

   - 관련된 변수와 함수를 즉시 실행 함수로 묶어 **모듈**을 만들고, 이를 통해 전역 변수를 억제하며 **캡슐화**를 구현할 수 있다.

   ```jsx
   var Module = (function () {
     var privateVar = "I am private";
     return {
       publicMethod: function () {
         return privateVar;
       },
     };
   })();
   console.log(Module.publicMethod()); // 'I am private'
   ```

4. **ES6 모듈**

   - **ES6 모듈**은 각 파일에 **독립적인 모듈 스코프**를 제공합니다. 이를 통해 전역 변수 없이 모듈화를 할 수 있있다.

   ```jsx
   // module.js
   export const name = "Lee";

   // main.js
   import { name } from "./module.js";
   console.log(name); // 'Lee'
   ```

### 전역 변수를 억제하는 이유:

- **가독성**과 **유지보수성**을 높이기 위해, 전역 변수 사용을 최소화하는 것이 좋다.
